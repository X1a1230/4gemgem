{% extends "base.html" %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('workshop.static', filename='css/toy_style.css') }}">
{% endblock %}

{% block title %}æƒ…è©±ç”Ÿæˆå™¨ - å·¥åŒ åŠ{% endblock %}

{% block content %}
    <div class="toy-container">
        <a href="{{ url_for('workshop.index') }}" class="back-to-workshop">â† è¿”å›å·¥åŒ åŠ</a>
        <div class="toy-header">
            <span class="toy-icon">ğŸ’–</span>
            <h1>æƒ…è©±ç”Ÿæˆå™¨</h1>
            <p>æ‚„æ‚„å‘Šè¨´æˆ‘ä¸€å€‹è©ï¼Œæˆ‘æœƒåŠªåŠ›æŠŠå®ƒè®Šæˆï¼Œåªçµ¦ä½ çœ‹çš„ã€ç¬¨æ‹™çš„è©©å¥ã€‚</p>
        </div>
        <div class="usage-tracker">
            {% if error %}
                <p class="error-message">{{ error }}</p>
            {% else %}
                <p>ä»Šæ—¥å‰©é¤˜éˆæ„Ÿèƒ½é‡ï¼š{{ remaining_times }} æ¬¡</p>
            {% endif %}
        </div>
        <form method="POST" class="toy-form">
            <input type="text" name="keyword" placeholder="ä¾‹å¦‚ï¼šè²“ã€ç¬¨è›‹ã€ç¾½æ¯›çƒâ€¦" required>
            <button type="submit">ç”Ÿæˆè©©å¥</button>
        </form>

        <!-- å¦‚æœå¾Œç«¯ç”Ÿæˆäº†è©©å¥ï¼Œå°±åœ¨é€™è£¡é¡¯ç¤º -->
        {% if poem %}
        <div class="result-container">
            <h4>ç‚ºä½ å¯«çš„è©©ï¼š</h4>
            <div class="poem-content">
                {{ poem | nl2br }}
            </div>
        </div>
        {% endif %}
    </div>
{% endblock %}